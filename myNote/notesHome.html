<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/commenCss.css">
    <link rel="stylesheet" href="./static/css/main.css">
    <title>Document</title>
</head>

<body>
    <main>
        <div class="navIcon" id="navIcon"></div>
        <nav id="nav">
            <div class="menuTitle">
                <h2 style="margin-left:20px; color: #f55a5a;">MENU</h2>
            </div>
            <div class="menu">
                <myNav><a href="../index.html">
                        <h6 style="margin: 0;">Home page</h6>
                    </a></myNav>
                <myNav>
                    <div class="myNav_1">JavaScript<div class="arrowDown"></div>
                    </div>
                    <ul class="innerUlShow">
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/JavaScript/变量.md')">变量</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/JavaScript/函数.md')">高阶函数</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/JavaScript/事件.md')">事件</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/JavaScript/位运算.md')">位运算</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/JavaScript/内存管理.md')">内存管理</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/JavaScript/事件循环.md')">事件循环</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/JavaScript/call及bind实现.md')">call及bind实现</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/JavaScript/promise实现.md')">promise实现</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/JavaScript/this和new.md')">this和new</li>
                    </ul>
                </myNav>
                <myNav>
                    <div class="myNav_1">VUE<div class="arrowDown"></div>
                    </div>
                    <ul class="innerUlShow">
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/VUE/原理.md')">原理实践</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/VUE/使用笔记.md')">使用笔记</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/VUE/vue-router.md')">vue-router</li>
                    </ul>
                </myNav>
                <myNav>

                    <div class="myNav_1">Html<div class="arrowDown"></div>
                    </div>
                    <ul class="innerUlShow">
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/HTML/语义化.md')">语义化</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/HTML/DOM.md')">DOM</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/HTML/Iframe.md')">Iframe</li>
                    </ul>
                </myNav>
                <myNav>
                    <div class="myNav_1">Css<div class="arrowDown"></div>
                    </div>
                    <ul class="innerUlShow">
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/css/属性.md')">属性记录</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/css/grid.md')">grid</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/css/icon.md')">icon</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/css/css引入.md')">css引入</li>
                    </ul>
                </myNav>
                <myNav>
                    <div class="myNav_1">浏览器原理<div class="arrowDown"></div>
                    </div>
                    <ul class="innerUlShow">
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/浏览器原理/缓存策略.md')">缓存策略</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/浏览器原理/同源策略.md')">同源策略</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/浏览器原理/浏览器工作原理.md')">浏览器工作原理</li>
                    </ul>
                </myNav>
                <myNav>
                    <div class="myNav_1">Web安全<div class="arrowDown"></div>
                    </div>
                    <ul class="innerUlShow">
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/web安全/安全配置.md')">通用安全配置</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/web安全/XSS攻击.md')">XSS攻击</li>
                        <li tabindex="0" onclick="readMdfile('./note/learningNotes/web安全/CSRF.md')">CSRF</li>
                    </ul>
                </myNav>
                <myNav>
                    <a href="#" onclick="readMdfile('./note/learningNotes/数据结构.md')">数据结构实践</a>
                </myNav>
                <myNav>
                    <a href="#" onclick="readMdfile('./note/learningNotes/性能优化.md')">web性能优化</a>
                </myNav>
                <myNav>
                    <a href="#" onclick="readMdfile('./note/learningNotes/设计模式.md')">设计模式*</a>
                </myNav>
                <myNav>
                    <a href="#" onclick="readMdfile('./note/learningNotes/AJAX.md')">AJAX</a>
                </myNav>
                <myNav>
                    <a href="#" onclick="readMdfile('./note/learningNotes/webpack.md')">webpack</a>
                </myNav>
            </div>

        </nav>
        <section id="section">
            <header class="artHeader">
                <div>JHao</div>
                <div>icon</div>
            </header>
            <article id="article">
                <div class="notesHome">
                    <div class="comFlexCenter" style="flex-direction: column;">
                        <h1>JHao</h1>
                        <p>
                            My learning notes
                            <br>
                        </p>
                    </div>
                    <img src="./static/img/dog.jpg" alt="dog" width="100%">
                    <div class="notesHomeBottom">
                        <ul class="comUlHorizontal">
                            <li><span>Author：</span>JHao</li>
                            <li><span>Tel：</span>13880321621</li>
                            <li><span>Email：</span>for-JHao@outlook.com</li>
                        </ul>
                    </div>
                </div>


            </article>
            <footer>

            </footer>
        </section>
    </main>
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/marked/4.0.2/marked.min.js"></script>
<script src="./notesHome.js"></script>
<script src="./mobile.js"></script>
<script>

    //利用XMLHttpRequest读取md文件
    function readMdfile(filePath) {
        let xhr = new XMLHttpRequest();
        xhr.open('get', filePath);
        xhr.send('')
        xhr.onload = function (pEvent) {
            let article = document.getElementById('article')
            if (pEvent.currentTarget.status !== 200) {
                article.innerHTML = '<h3>请求出了点小问题！</h3>'
                return
            }
            article.innerHTML = marked.parse(xhr.responseText)
        }
        let sec = document.getElementById('section')
        sec.scrollTop = 0
        return false
    }


//移动端操作

    //注册移动端最大width
    const mobileWidth = 820
    let mobile = new MobileInstance(mobileWidth)

    //导航栏的显现隐藏
    let openNavByClick = mobile.runOnMobile((navDom,isOpen) => {
        navDom.style.width=isOpen?'230px':'0'

    })
    let moveNavIcon=mobile.runOnMobile((iconDom,isOpen)=>{
        iconDom.style.left=isOpen?'240px':'10px'
    })
    let isOpen=false    //待优化
    function navClickEvent() {
        let nav = document.getElementById('nav')
        let navIcon = document.getElementById('navIcon')
        navIcon.addEventListener("click", () =>{
            isOpen=!isOpen
            openNavByClick(nav,isOpen)
            moveNavIcon(navIcon,isOpen)
        } )
    }
    navClickEvent()

    //脱离小屏，复原大屏样式
    mobile.afterOutMobile(() => {
        let nav = document.getElementById('nav')
        let icon=document.getElementById('navIcon')
        nav.style=''
        icon.style=''
        isOpen=false
    })


</script>
<style>
    html,
    body {
        margin: 0;
        padding: 0;
        height: 100vh;
        width: 100vw;
        background-image: url(../assets/img/beach.jpg);
    }

    main {
        display: grid;
        grid-template-columns: 1fr 4fr;
        opacity: 0.9;
    }

    @media screen and (min-width:1100px) {
        body {
            display: flex;
            justify-content: center
        }

        main {
            width: 1100px;
        }
    }

    @media screen and (max-width:1100px) and (min-width:820px) {
        main {
            width: 100%;
            height: 100%;
        }

    }

    @media screen and (max-width:820px) {
        main {
            width: 100%;
            height: 100%;
            grid-template-columns: auto;
        }
    }
</style>

</html>